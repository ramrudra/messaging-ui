# Messages Tab - Adding an Attachment

The user should be able send include an attachment, which will be included in the email that the server will send to the recipient. Some key points are:
1. The attachment should be 25 MB or less, any non-executable file type.
2. The user should be able to drag-and-drop a file into the dropzone, select it from their local storage, or select from previously-sent files.

![](http://i.imgur.com/6giS6ys.png)

### Event Handlers

When uploading a new file, a `handler` in the file-upload component should send the document to `Firebase storage` using the `Firebase Javascript SDK`.  When the upload is complete, the component should store the `downloadURL` in component `state` until the user clicks "Send."  When the user sends the message, the component will invoke a callback that includes

```
 sendMessage(
   listingID: string,
   messageBody: string,
   attachments: ["firebase.storage.com/image.jpg"]
    )
```

  ### Props

```
...otherProps,
messages: Immutable.List([ {
    message123: {
      body: "Hi, can you tell me if the laundry for this apartment is in-unit or shared?",
      authorName: "Me",
      timestamp: 1235314314 // a unix epoch timestamp
      authorUID: "user123456"
  },
  // etc, same properties for other messages
  ]),
agentEmail: 'AgentAnnie@gmail.com',
savedTemplates: Immutable.List([
  {
    title: 'Laundry Question',
    body: 'Hi, can you tell me whether the laundry...', // etc
  },
  // etc
]),
previousAttachments: Immutable.List([
  {
    // note: the `fileID` is generated by the
    // back-end, you don't need to assign it here.
    fileID: "abc123",
    downloadURL: "www.download.com/image.jpg",
    fileType: "JPG" // or pdf, png, etc.
  }
])
```
